1. 
Имя файла достаётся из первого аргумента коммандной строки.
Вывод происходит только на экран.

2. 
Полный вайп. Поменялась архитектура.